(this["webpackJsonpgithub-demo"]=this["webpackJsonpgithub-demo"]||[]).push([[0],{104:function(e,t,n){e.exports=n(127)},109:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t),n.d(t,"configure",(function(){return Re}));var a=n(0),r=n.n(a),o=n(8),c=n.n(o);n(109),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(21),s=n(37),u=n(22),l=n(165),p=n(18),d=n(14),f=n.n(d),h=n(24),m=n(58),g=n(88),b=n(89),v=n(164),E=n(74),w=n(90),O=n(97),j=n(187),R=n(190),y=n(185),x=n(79),I=function(){function e(){var t=this;Object(g.a)(this,e),this.FORM_URL_ENCODED="application/x-www-form-urlencoded",this.addDefaultHeader=function(e,n){t.defaultHeaders[e]=n},this.removeDefaultHeader=function(e){delete t.defaultHeaders[e]},this.addBeforeRequestInterceptor=function(e){return t.beforeRequestInterceptors.push(e),function(){var n=t.beforeRequestInterceptors.indexOf(e);t.beforeRequestInterceptors.splice(n,1)}},this.addAfterResonseInterceptor=function(e){return t.afterResponseInterceptors.push(e),function(){var n=t.afterResponseInterceptors.indexOf(e);t.afterResponseInterceptors.splice(n,1)}},this.fetch=function(){var e=Object(h.a)(f.a.mark((function e(n){var a,r,o,c,s,u,l,p=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p.length>1&&void 0!==p[1]?p[1]:{},r=p.length>2?p[2]:void 0,o=Object(i.a)({},t.defaultInit,{},a,{headers:k(a.headers,t.defaultHeaders,r)}),!1!==C(t.beforeRequestInterceptors,o)){e.next=6;break}throw new Error("Fetch Promise was canceled by interceptor before requested");case 6:return e.prev=6,s=Object(x.flow)([t._fetchWith5XXRetry])(fetch),e.next=10,s(n,o);case 10:c=e.sent,e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(6),console.warn("[FetchHelper]",e.t0),D({response:e.t0,interceptors:t.afterResponseInterceptors,initWithDefaultHeaders:o}),e.abrupt("return",[e.t0,-1]);case 18:return u=c.status,l=null,e.prev=20,e.next=23,c.json();case 23:if(l=e.sent,!1!==D({response:c,interceptors:t.afterResponseInterceptors,jsonData:l,initWithDefaultHeaders:o})){e.next=27;break}throw new Error("Fetch Promise was canceled by interceptor after responded");case 27:return e.abrupt("return",[l,u]);case 30:if(e.prev=30,e.t1=e.catch(20),l){e.next=36;break}if(!1!==D({response:c,interceptors:t.afterResponseInterceptors,jsonData:l,initWithDefaultHeaders:o})){e.next=36;break}throw new Error("Fetch Promise was canceled by interceptor after responded");case 36:return(u+"").startsWith("2")||console.warn('Can not parse json from response of API "'.concat(n,'" with code ').concat(u,"."),e.t1),e.abrupt("return",[c,u]);case 38:case"end":return e.stop()}}),e,null,[[6,13],[20,30]])})));return function(t){return e.apply(this,arguments)}}(),this.uploadFile=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(a,r){var o=new XMLHttpRequest;o.open(t.method||"post",e);var c=t.headers||{};for(var i in c)o.setRequestHeader(i,c[i]);o.onload=function(e){try{var t=JSON.parse(e.target.responseText);a([t,o.status])}catch(n){a([e.target.responseText,o.status])}},o.onerror=r,o.withCredentials=!0,o.upload&&n&&(o.upload.onprogress=n),o.send(t.body)}))},this.getHeader=function(){return t.defaultHeaders},this._fetchWith5XXRetry=function(t){return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.RETRY||a.method&&"GET"!==a.method.toUpperCase())return t(n,a);var r=0;return Object(v.a)((function(){return Object(E.a)(t(n,a).then((function(e){if((e.status+"").startsWith("5"))throw e;return e})))})).pipe(Object(j.a)((function(t){return t.pipe(Object(R.a)((function(t){return++r>=e.MAX_RETRY?Object(w.a)(t):Object(O.a)(t).pipe(Object(y.a)(e.RETRY_DELAY))})))}))).toPromise().then((function(e){return e}),(function(e){if(500===e.status)return e;throw e}))}},this.defaultInit={},this.defaultHeaders={"Content-Type":"application/json"},this.beforeRequestInterceptors=[],this.afterResponseInterceptors=[]}return Object(b.a)(e,[{key:"jsonToForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}},{key:"jsonToQueryString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){var n=e[t];return n&&n.constructor===Array?n.map((function(e){return"".concat(t,"=").concat(encodeURIComponent(e))})).join("&"):n&&"object"===typeof n?"".concat(t,"=").concat(encodeURIComponent(JSON.stringify(n))):n||0===n?"".concat(t,"=").concat(encodeURIComponent(n)):""})).filter(Boolean).join("&")}}]),e}();function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a={};e instanceof Headers?e.forEach((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];a[n]=r})):a=e;var r=Object(i.a)({},t);return delete r["Content-Type"],n?r:Object(x.assign)(t,a)}function C(e,t){e.forEach((function(e){try{if(!1===e(t))return console.error(new Error("Interceptor ".concat(e," has cancel signal. This makes the request stop immediately"))),!1}catch(n){return console.error(n),!1}}))}function D(e){var t=e.response,n=e.interceptors,a=e.jsonData,r=e.initWithDefaultHeaders;n.forEach((function(e){try{if(!1===e({response:t,jsonData:a,init:r}))return console.error(new Error("Interceptor ".concat(e," has cancel signal. This makes the request stop immediately."))),!1}catch(n){return console.error(n),!1}}))}I.RETRY=!0,I.MAX_RETRY=3,I.RETRY_DELAY=500;var P,T=new I,S=n(67),H=[200,201,204],L={get:function(e,t,n,a){return Object(h.a)(f.a.mark((function r(){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=N(e,t),r.next=3,F(e,{params:t,headers:n,showError:a});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},post:function(e,t,n,a,r,o){return Object(h.a)(f.a.mark((function c(){return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e=N(e,n),c.next=3,F(e,{method:"POST",body:t,headers:a,showError:r,isFormSubmit:o});case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}),c)})))()},put:function(e,t,n,a,r,o){return Object(h.a)(f.a.mark((function c(){return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e=N(e,n),c.next=3,F(e,{method:"PUT",body:t,headers:a,showError:r,isFormSubmit:o});case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}),c)})))()},delete:function(e,t,n,a){return Object(h.a)(f.a.mark((function r(){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=N(e,t),r.next=3,F(e,{method:"DELETE",params:t,headers:n,showError:a});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()}},N=function(e,t){var n=[];for(var a in t)if(t.hasOwnProperty(a)&&void 0!==t[a]&&null!==t[a]&&""!==t[a]){var r=t[a];n.push("".concat(a,"=").concat(r))}return"https://api.github.com/users/"+(e=n.length>0?e+"?"+n.join("&"):e)},F=function(){var e=Object(h.a)(f.a.mark((function e(t,n){var a,r,o,c,i,u,l,p,d,h,m,g,b;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.method,r=void 0===a?"GET":a,n.params,o=n.body,c=n.headers,i=n.showError,u=void 0===i||i,l=n.isFormSubmit,p=void 0!==l&&l,e.prev=1,d={method:r},o&&(o instanceof FormData?d.body=o:d.body=JSON.stringify(o)),c&&(d.headers=c),e.next=7,T.fetch(t,d,p);case 7:if(h=e.sent,m=Object(s.a)(h,2),g=m[0],401===(b=m[1])&&console.log("UNAUTHORIZED",g.Message),!H.includes(b)){e.next=14;break}return e.abrupt("return",{result:g,status:b});case 14:return u&&S.b.error(g.Message||g.message||"Something went wrong"),e.abrupt("return",{result:null,message:g.message,status:b});case 18:e.prev=18,e.t0=e.catch(1),console.log("exception",e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,n){return e.apply(this,arguments)}}(),W={getDataSuccess:function(e,t){return{data:e,isOrgs:t}},changePagination:function(e){return{data:e}},getData:function(e,t,n){return function(){var a=Object(h.a)(f.a.mark((function a(r){var o,c,i,s,u,l;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r.Api,c=r.getState,i=t||c().home.paging,a.next=4,o.get("".concat(e,"/").concat(n?"orgs":"repos"),{page:i.page,per_page:i.size});case 4:s=a.sent,u=s.result,l=s.status,H.includes(l)&&q.getDataSuccess(u,n);case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}},q=Object(m.synthesize)("home",W),U=q,A=n(73),_=n(181),M=n(176),Y=n(182),z=n(183),B=n(98),X=n(168),G=n(184),J=n(188),Q=n(170),Z=n(173),$=n(128),K=n(174),V=n(175),ee=n(29),te=n(171),ne=n(172),ae=Object(l.a)({contained:{boxShadow:"none"},head:{fontWeight:600},root:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"}}),re=function(e){var t=e.header,n=e.renderRow,a=e.paging,o=void 0===a?{}:a,c=e.data,s=void 0===c?[]:c,u=e.onChangePagination,l=Object(B.a)(e,["header","renderRow","paging","data","onChangePagination"]),p=ae(),d=function(e){var t=ae(),n=Object(ee.a)(),a=e.data,c=e.rowsPerPageOptions,s=e.page,l=e.rowsPerPage;return r.a.createElement("div",{className:t.root},r.a.createElement(X.a,{style:{marginRight:10}},"Rows per page:"),r.a.createElement(G.a,{disableUnderline:!0,value:l,onChange:function(e){return u(Object(i.a)({},o,{page:1,size:e.target.value}))},"data-testid":"page-size-select"},c.map((function(e){return r.a.createElement(J.a,{value:e,key:e},e)}))),r.a.createElement(Q.a,{onClick:function(){u(Object(i.a)({},o,{page:s-1}))},disabled:s<=1,"aria-label":"previous page","data-testid":"previous-page"},"rtl"===n.direction?r.a.createElement(te.a,null):r.a.createElement(ne.a,null)),r.a.createElement(Q.a,{onClick:function(){u(Object(i.a)({},o,{page:s+1}))},disabled:a.length<l,"aria-label":"next page","data-testid":"next-page"},"rtl"===n.direction?r.a.createElement(ne.a,null):r.a.createElement(te.a,null)))};return r.a.createElement(Z.a,Object.assign({component:$.a},l),r.a.createElement(K.a,{"data-testid":"table"},t&&r.a.createElement(t,null),r.a.createElement(V.a,{className:"test-table-body"},(s||[]).map((function(e,t){return r.a.createElement(M.a,{key:e.id,hover:!0,classes:{head:p.head}},n(e,t))})))),r.a.createElement(d,{rowsPerPageOptions:[10,50,100],rowsPerPage:o.size,page:o.page,data:s}))},oe=n(54),ce=n.n(oe),ie=n(177),se=n(178),ue=n(189),le=n(95),pe=n.n(le),de=n(186),fe=n(180),he=n(179),me=Object(l.a)((function(e){return{title:Object(u.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(u.a)({margin:e.spacing(3,0,3,0),position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(p.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(p.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,2,1,1),paddingLeft:"calc(".concat(e.spacing(2),"px)"),transition:e.transitions.create("width"),width:"100%"},fab:{marginLeft:"-8px"}}})),ge=function(e){var t=e.onSearch,n=e.handleTabChange,a=e.tabIdx,o=me();return r.a.createElement(ie.a,{position:"fixed"},r.a.createElement("form",{onSubmit:t},r.a.createElement(se.a,null,r.a.createElement(X.a,{className:o.title,variant:"h6",noWrap:!0},"Github Demo"),r.a.createElement("div",{className:o.search},r.a.createElement(ue.a,{name:"search",id:"search",placeholder:"Input username",classes:{root:o.inputRoot,input:o.inputInput},inputProps:{"aria-label":"search"}})),r.a.createElement(he.a,{className:o.fab,type:"submit","data-testid":"submit-btn"},r.a.createElement(pe.a,null))),r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement(de.a,{value:a,indicatorColor:"primary",textColor:"primary",onChange:n,style:{marginTop:50,marginLeft:"10%"}},r.a.createElement(fe.a,{label:"Repositories"}),r.a.createElement(fe.a,{label:"Organizations"})))))},be=Object(l.a)((function(e){return{root:{display:"flex","& .loader-60devs":{height:"0.2rem",width:"100%"},"& .loader-60devs-progress":{height:"0.2rem",width:"100%",backgroundColor:"#ff6f00"}},paperContainer:{position:"relative",width:"100%",marginTop:200,marginLeft:"10%",marginRight:20,marginBottom:20},title:Object(u.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(u.a)({margin:e.spacing(3,0,3,0),position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(p.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(p.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,2,1,1),paddingLeft:"calc(".concat(e.spacing(2),"px)"),transition:e.transitions.create("width"),width:"100%"},fab:{marginLeft:"-8px"}}})),ve=function(){var e=be(),t=Object(A.b)((function(e){return e.home})),n=t.listRepos,o=t.listOrgs,c=t.paging,u=Object(a.useState)(0),l=Object(s.a)(u,2),p=l[0],d=l[1],f=Object(a.useState)(""),h=Object(s.a)(f,2),m=h[0],g=h[1],b=function(e){U.changePagination(e)};Object(a.useEffect)((function(){m&&U.getData(m,c,!!p)}),[c,m]),Object(a.useEffect)((function(){b(Object(i.a)({},c,{page:1}))}),[p]);return r.a.createElement("div",{className:e.root},r.a.createElement(ce.a.Component,null),r.a.createElement(z.a,null),r.a.createElement(ge,{onSearch:function(e){var t;e.preventDefault();var n=e.target;g(null===n||void 0===n||null===(t=n.search)||void 0===t?void 0:t.value)},handleTabChange:function(e,t){d(t)},tabIdx:p}),p?r.a.createElement(re,{header:function(){return r.a.createElement(_.a,null,r.a.createElement(M.a,null,r.a.createElement(Y.a,null,"Id"),r.a.createElement(Y.a,null,"Url"),r.a.createElement(Y.a,null,"Description")))},data:o,paging:c,className:e.paperContainer,onChangePagination:b,renderRow:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,null,e.id),r.a.createElement(Y.a,null,e.url),r.a.createElement(Y.a,null,e.description))}}):r.a.createElement(re,{header:function(){return r.a.createElement(_.a,null,r.a.createElement(M.a,null,r.a.createElement(Y.a,null,"Id"),r.a.createElement(Y.a,null,"Name"),r.a.createElement(Y.a,null,"Full Name")))},data:n,paging:c,className:e.paperContainer,onChangePagination:b,renderRow:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,null,e.id),r.a.createElement(Y.a,null,e.name),r.a.createElement(Y.a,null,e.full_name))}}))},Ee=n(28),we=n(96),Oe=(n(124),U({listRepos:[],listOrgs:[],paging:{page:1,size:10}},(P={},Object(u.a)(P,U.getDataSuccess,(function(e,t){return t.isOrgs?{listOrgs:t.data}:{listRepos:t.data}})),Object(u.a)(P,U.changePagination,(function(e,t){return{paging:t.data}})),P))),je=Object(Ee.combineReducers)(Object(i.a)({},Oe));n(125),n(126);var Re=function(){var e=[m.dispatcherMiddleware.withContext({Api:L,fetchHelper:T})];return{store:Object(Ee.createStore)(je,Object(we.composeWithDevTools)(Ee.applyMiddleware.apply(void 0,e)))}}();T.addBeforeRequestInterceptor((function(){return ce.a.show()})),T.addAfterResonseInterceptor((function(){return ce.a.hide()})),c.a.render(r.a.createElement(A.a,{store:Re.store},r.a.createElement(S.a,{position:"top-left",hideProgressBar:!0,autoClose:1e3}),r.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.db0d435b.chunk.js.map